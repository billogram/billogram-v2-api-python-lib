<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>billogram_api API documentation</title>
    <meta name="description" content="Library for accessing the Billogram v2 HTTP API.

Full documentation available at `https://billogram..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#billogram_api.API_URL_BASE">API_URL_BASE</a></li>
    <li class="mono"><a href="#billogram_api.USER_AGENT">USER_AGENT</a></li>
  </ul>

    </li>


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramAPI">BillogramAPI</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.BillogramAPI.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.BillogramAPI.delete">delete</a></li>
    <li class="mono"><a href="#billogram_api.BillogramAPI.get">get</a></li>
    <li class="mono"><a href="#billogram_api.BillogramAPI.post">post</a></li>
    <li class="mono"><a href="#billogram_api.BillogramAPI.put">put</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.BillogramAPIError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramClass">BillogramClass</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.BillogramClass.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.BillogramClass.create">create</a></li>
    <li class="mono"><a href="#billogram_api.BillogramClass.create_and_sell">create_and_sell</a></li>
    <li class="mono"><a href="#billogram_api.BillogramClass.create_and_send">create_and_send</a></li>
    <li class="mono"><a href="#billogram_api.BillogramClass.get">get</a></li>
    <li class="mono"><a href="#billogram_api.BillogramClass.query">query</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramExceptions">BillogramExceptions</a></span>
        
        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramObject">BillogramObject</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.BillogramObject.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.attach_pdf">attach_pdf</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.create_payment">create_payment</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.credit_amount">credit_amount</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.credit_full">credit_full</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.credit_remaining">credit_remaining</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.delete">delete</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.get_attachment_pdf">get_attachment_pdf</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.get_invoice_pdf">get_invoice_pdf</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.perform_event">perform_event</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.refresh">refresh</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.resend">resend</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.send">send</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.send_message">send_message</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.send_reminder">send_reminder</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.send_to_collector">send_to_collector</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.send_to_factoring">send_to_factoring</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.update">update</a></li>
    <li class="mono"><a href="#billogram_api.BillogramObject.writeoff">writeoff</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.BillogramQuery">BillogramQuery</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.BillogramQuery.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.filter_field">filter_field</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.filter_prefix">filter_prefix</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.filter_search">filter_search</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.filter_special">filter_special</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.filter_state_any">filter_state_any</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.get_page">get_page</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.iter_all">iter_all</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.make_filter">make_filter</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.remove_filter">remove_filter</a></li>
    <li class="mono"><a href="#billogram_api.BillogramQuery.search">search</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.InvalidAuthenticationError">InvalidAuthenticationError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.InvalidAuthenticationError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.InvalidFieldCombinationError">InvalidFieldCombinationError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.InvalidFieldCombinationError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.InvalidFieldValueError">InvalidFieldValueError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.InvalidFieldValueError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.InvalidObjectStateError">InvalidObjectStateError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.InvalidObjectStateError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.MissingFieldError">MissingFieldError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.MissingFieldError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.NotAuthorizedError">NotAuthorizedError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.NotAuthorizedError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.ObjectNotAvailableYetError">ObjectNotAvailableYetError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.ObjectNotAvailableYetError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.ObjectNotFoundError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.PermissionDeniedError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.Query">Query</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.Query.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.Query.filter_field">filter_field</a></li>
    <li class="mono"><a href="#billogram_api.Query.filter_prefix">filter_prefix</a></li>
    <li class="mono"><a href="#billogram_api.Query.filter_search">filter_search</a></li>
    <li class="mono"><a href="#billogram_api.Query.filter_special">filter_special</a></li>
    <li class="mono"><a href="#billogram_api.Query.get_page">get_page</a></li>
    <li class="mono"><a href="#billogram_api.Query.iter_all">iter_all</a></li>
    <li class="mono"><a href="#billogram_api.Query.make_filter">make_filter</a></li>
    <li class="mono"><a href="#billogram_api.Query.remove_filter">remove_filter</a></li>
    <li class="mono"><a href="#billogram_api.Query.search">search</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.ReadOnlyFieldError">ReadOnlyFieldError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.ReadOnlyFieldError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.RequestDataError">RequestDataError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.RequestDataError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.RequestFormError">RequestFormError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.RequestFormError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.ServiceMalfunctioningError">ServiceMalfunctioningError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.ServiceMalfunctioningError.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.SimpleClass">SimpleClass</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.SimpleClass.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.SimpleClass.create">create</a></li>
    <li class="mono"><a href="#billogram_api.SimpleClass.get">get</a></li>
    <li class="mono"><a href="#billogram_api.SimpleClass.query">query</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.SimpleObject">SimpleObject</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.SimpleObject.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.SimpleObject.delete">delete</a></li>
    <li class="mono"><a href="#billogram_api.SimpleObject.refresh">refresh</a></li>
    <li class="mono"><a href="#billogram_api.SimpleObject.update">update</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.SingletonObject">SingletonObject</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.SingletonObject.__init__">__init__</a></li>
    <li class="mono"><a href="#billogram_api.SingletonObject.refresh">refresh</a></li>
    <li class="mono"><a href="#billogram_api.SingletonObject.update">update</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#billogram_api.UnknownFieldError">UnknownFieldError</a></span>
        
          
  <ul>
    <li class="mono"><a href="#billogram_api.UnknownFieldError.__init__">__init__</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">billogram_api</span> module</h1>
  <p>Library for accessing the Billogram v2 HTTP API.</p>
<p>Full documentation available at <code>https://billogram.com/api/documentation</code></p>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api" class="source">
    <div class="codehilite"><pre><span class="c"># encoding=utf-8</span>
<span class="c"># Copyright (c) 2013 Billogram AB</span>
<span class="c">#</span>
<span class="c"># Permission is hereby granted, free of charge, to any person obtaining a copy</span>
<span class="c"># of this software and associated documentation files (the &quot;Software&quot;), to deal</span>
<span class="c"># in the Software without restriction, including without limitation the rights</span>
<span class="c"># to use, copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="c"># copies of the Software, and to permit persons to whom the Software is</span>
<span class="c"># furnished to do so, subject to the following conditions:</span>
<span class="c">#</span>
<span class="c"># The above copyright notice and this permission notice shall be included in</span>
<span class="c"># all copies or substantial portions of the Software.</span>
<span class="c">#</span>
<span class="c"># THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="c"># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="c"># FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE</span>
<span class="c"># AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER</span>
<span class="c"># LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,</span>
<span class="c"># OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="c"># SOFTWARE.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Library for accessing the Billogram v2 HTTP API.</span>

<span class="sd">Full documentation available at `https://billogram.com/api/documentation`</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">unicode_literals</span><span class="p">,</span> <span class="n">print_function</span><span class="p">,</span> <span class="n">division</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>


<span class="n">API_URL_BASE</span> <span class="o">=</span> <span class="s">&quot;https://billogram.com/api/v2&quot;</span>
<span class="n">USER_AGENT</span> <span class="o">=</span> <span class="s">&quot;Billogram API Python Library/1.00&quot;</span>


<span class="c"># python 2/3 intercompatibility</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">unicode</span>  <span class="c"># not defined in py3k</span>

    <span class="k">def</span> <span class="nf">_printable_repr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="c"># python 2.7 can&#39;t handle unicode objects from __repr__</span>
        <span class="c"># so need this wrapper</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="nb">basestring</span> <span class="o">=</span> <span class="nb">str</span>  <span class="c"># py3k has no basestring type so fake one</span>

    <span class="k">def</span> <span class="nf">_printable_repr</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">s</span>


<span class="k">class</span> <span class="nc">BillogramAPIError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="s">&quot;Base class for errors from the Billogram API&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>


<span class="k">class</span> <span class="nc">ServiceMalfunctioningError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;The Billogram API service seems to be malfunctioning&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">RequestFormError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;Errors caused by malformed requests&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">PermissionDeniedError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;No permission to perform the requested operation&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">InvalidAuthenticationError</span><span class="p">(</span><span class="n">PermissionDeniedError</span><span class="p">):</span>
    <span class="s">&quot;The user/key combination could not be authenticated&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">NotAuthorizedError</span><span class="p">(</span><span class="n">PermissionDeniedError</span><span class="p">):</span>
    <span class="s">&quot;The user does not have authorization to perform the requested operation&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">RequestDataError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;Errors caused by bad data passed to request&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">UnknownFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;An unknown field was passed in the request data&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">MissingFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;A required field was missing from the request data&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">InvalidFieldCombinationError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;Mutually exclusive fields were specified together&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">InvalidFieldValueError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;A field was given an out-of-range value or a value of incorrect type&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">ReadOnlyFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;Attempt to modify a read-only field&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">InvalidObjectStateError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;The request can not be performed on an object in this state&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">ObjectNotFoundError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;No object by the requested ID exists&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">ObjectNotAvailableYetError</span><span class="p">(</span><span class="n">ObjectNotFoundError</span><span class="p">):</span>
    <span class="s">&quot;No object by the requested ID exists, but is expected to be created soon&quot;</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">BillogramAPI</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pseudo-connection to the Billogram v2 API</span>

<span class="sd">    Objects of this class provide a call interface to the Billogram</span>
<span class="sd">    v2 HTTP API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">,</span> <span class="n">user_agent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_base</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a Billogram API connection object</span>

<span class="sd">        Pass the API authentication in the auth_user and auth_key parameters.</span>
<span class="sd">        API accounts can only be created from the Billogram web interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span> <span class="o">=</span> <span class="n">user_agent</span> <span class="ow">or</span> <span class="n">USER_AGENT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span> <span class="o">=</span> <span class="n">api_base</span> <span class="ow">or</span> <span class="n">API_URL_BASE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the items database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;item&#39;</span><span class="p">,</span> <span class="s">&#39;item_no&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">customers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the customer database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;customer&#39;</span><span class="p">,</span> <span class="s">&#39;customer_no&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">billogram</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to billogram objects and attached invoices&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="o">=</span> <span class="n">BillogramClass</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to settings for the Billogram account&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="n">SingletonObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;settings&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logotype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the logotype for the Billogram account&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="o">=</span> <span class="n">SingletonObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;logotype&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the reports database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;report&#39;</span><span class="p">,</span> <span class="s">&#39;filename&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_check_api_response</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">resp</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">resp</span><span class="o">.</span><span class="n">ok</span> <span class="ow">or</span> <span class="n">expect_content_type</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># if the request failed the response should always be json</span>
            <span class="n">expect_content_type</span> <span class="o">=</span> <span class="s">&#39;application/json&#39;</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">):</span>
            <span class="c"># internal error</span>
            <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">expect_content_type</span> <span class="ow">and</span> \
                    <span class="n">expect_content_type</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Billogram API reported a server error: {} - {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">),</span>
                        <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;message&#39;</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>

            <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                <span class="s">&#39;Billogram API reported a server error&#39;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">expect_content_type</span><span class="p">:</span>
            <span class="c"># the service returned a different content-type from the expected,</span>
            <span class="c"># probably some malfunction on the remote end</span>
            <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;NOT_AVAILABLE_YET&#39;</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">ObjectNotAvailableYetError</span><span class="p">(</span>
                        <span class="s">&#39;Object not available yet&#39;</span>
                    <span class="p">)</span>
            <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                <span class="s">&#39;Billogram API returned unexpected content type&#39;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">expect_content_type</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Response data missing status field&#39;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="s">&#39;data&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Response data missing data field&#39;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># per above, non-json responses are always ok, so just return them</span>
            <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">content</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">403</span><span class="p">:</span>
            <span class="c"># bad auth</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;PERMISSION_DENIED&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">NotAuthorizedError</span><span class="p">(</span>
                    <span class="s">&#39;Not allowed to perform the requested operation&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;INVALID_AUTH&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InvalidAuthenticationError</span><span class="p">(</span>
                    <span class="s">&#39;The user/key combination is wrong, check the credentials </span><span class="se">\</span>
<span class="s">                     used and possibly generate a new set&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;MISSING_AUTH&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">RequestFormError</span><span class="p">(</span><span class="s">&#39;No authentication data was given&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">PermissionDeniedError</span><span class="p">(</span>
                    <span class="s">&#39;Permission denied, status={}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">status</span>
                    <span class="p">)</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="c"># not found</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;NOT_AVAILABLE_YET&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ObjectNotFoundError</span><span class="p">(</span><span class="s">&#39;Object not available yet&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">ObjectNotFoundError</span><span class="p">(</span><span class="s">&#39;Object not found&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">405</span><span class="p">:</span>
            <span class="c"># bad http method</span>
            <span class="k">raise</span> <span class="n">RequestFormError</span><span class="p">(</span><span class="s">&#39;Invalid HTTP method&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;OK&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">data</span>

        <span class="n">errordata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="k">raise</span> <span class="p">{</span>
            <span class="s">&#39;MISSING_QUERY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">RequestFormError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_QUERY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">RequestFormError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_PARAMETER&#39;</span><span class="p">:</span> <span class="n">InvalidFieldValueError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_PARAMETER_COMBINATION&#39;</span><span class="p">:</span> <span class="n">InvalidFieldCombinationError</span><span class="p">,</span>
            <span class="s">&#39;READ_ONLY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">ReadOnlyFieldError</span><span class="p">,</span>
            <span class="s">&#39;UNKNOWN_PARAMETER&#39;</span><span class="p">:</span> <span class="n">UnknownFieldError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_OBJECT_STATE&#39;</span><span class="p">:</span> <span class="n">InvalidObjectStateError</span><span class="p">,</span>
        <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">RequestDataError</span><span class="p">)(</span><span class="o">**</span><span class="n">errordata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP GET request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
            <span class="p">),</span>
            <span class="n">expect_content_type</span><span class="o">=</span><span class="n">expect_content_type</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP POST request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                    <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                    <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP PUT request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                    <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                    <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP DELETE request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">SingletonObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a remote singleton object on Billogram</span>

<span class="sd">    Implements __getattr__ for dict-like access to the data of the remote</span>
<span class="sd">    object, or use the &#39;data&#39; property to access the backing dict object.</span>
<span class="sd">    The data in this dict and all sub-objects should be treated as read-only,</span>
<span class="sd">    the only way to change the remote object is through the &#39;update&#39; method.</span>

<span class="sd">    The represented object is initially &quot;lazy&quot; and will only be fetched on the</span>
<span class="sd">    first access. If the remote data are changed, the local copy can be updated</span>
<span class="sd">    bythe &#39;refresh&#39; method.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">url_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;_api&#39;</span><span class="p">,</span> <span class="s">&#39;_object_class&#39;</span><span class="p">,</span> <span class="s">&#39;_data&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="s">&quot;Dict-like access to object data&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_printable_repr</span><span class="p">(</span>
            <span class="s">&quot;&lt;Billogram object &#39;{}&#39;{}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39; (lazy)&#39;</span> <span class="ow">or</span> <span class="s">&#39;&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Access the data of the actual object&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span>

    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Refresh the local copy of the object data from remote&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Modify the remote object with a partial or complete structure&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>


<span class="k">class</span> <span class="nc">SimpleObject</span><span class="p">(</span><span class="n">SingletonObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a remote object on the Billogram service</span>

<span class="sd">    Implements __getattr__ for dict-like access to the data of the remote</span>
<span class="sd">    object, or use the &#39;data&#39; property to access the backing dict object.</span>
<span class="sd">    The data in this dict and all sub-objects should be treated as read-only,</span>
<span class="sd">    the only way to change the remote object is through the &#39;update&#39; method.</span>

<span class="sd">    If the remote data are changed, the local copy can be updated by</span>
<span class="sd">    the &#39;refresh&#39; method.</span>

<span class="sd">    The &#39;delete&#39; method can be used to remove the backing object.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">object_class</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">object_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Remove the remote object from the database&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>


<span class="k">class</span> <span class="nc">Query</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Builds queries and fetches pages of remote objects</span>

<span class="sd">    Due to internal limitations in Billogram it is currently only possible to</span>
<span class="sd">    filter on a single field or special query at a time. This may change in the</span>
<span class="sd">    future. When it does the API will continue supporting the old filtering</span>
<span class="sd">    mechanism, however this client library will be updated to use the new one,</span>
<span class="sd">    and at that point we will strongly recommend all applications be updated.</span>

<span class="sd">    The exact fields and special queries available for each object type varies,</span>
<span class="sd">    see the online documentation for details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_class</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span> <span class="o">=</span> <span class="n">type_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_make_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">query_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;page_size&#39;</span><span class="p">:</span> <span class="n">page_size</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span><span class="p">,</span>
            <span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="n">page_number</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">query_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_queryargs</span><span class="p">())</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_url_name</span><span class="p">,</span> <span class="n">query_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;meta&#39;</span><span class="p">][</span><span class="s">&#39;total_count&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">resp</span>

    <span class="k">def</span> <span class="nf">_get_queryargs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">)</span>
        <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Total amount of objects matched by the current query, reading this</span>
<span class="sd">        may cause a remote request&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># make a query for a single result,</span>
            <span class="c"># this will update the cached count</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">total_pages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Total number of pages required for all objects based on current</span>
<span class="sd">        pagesize, reading this may cause a remote request&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_size</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">page_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Number of objects to return per page&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span>

    <span class="nd">@page_size.setter</span>
    <span class="k">def</span> <span class="nf">page_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Filter to apply to query&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span>

    <span class="nd">@filter.setter</span>
    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s">&#39;filter_type&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> \
                <span class="s">&#39;filter_field&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> \
                <span class="s">&#39;filter_value&#39;</span> <span class="ow">in</span> <span class="n">value</span>
            <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="s">&#39;filter_type&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s">&#39;field&#39;</span><span class="p">,</span>
                <span class="s">&#39;field-prefix&#39;</span><span class="p">,</span>
                <span class="s">&#39;field-search&#39;</span><span class="p">,</span>
                <span class="s">&#39;special&#39;</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span>

    <span class="nd">@order.setter</span>
    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s">&#39;order_field&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> <span class="s">&#39;order_direction&#39;</span> <span class="ow">in</span> <span class="n">value</span>
            <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="s">&#39;order_direction&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;asc&#39;</span><span class="p">,</span> <span class="s">&#39;desc&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">make_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">filter_field</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">filter_value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">None</span> <span class="ow">in</span> <span class="p">(</span><span class="n">filter_type</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">&#39;filter_type&#39;</span><span class="p">:</span> <span class="n">filter_type</span><span class="p">,</span>
                <span class="s">&#39;filter_field&#39;</span><span class="p">:</span> <span class="n">filter_field</span><span class="p">,</span>
                <span class="s">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Remove any filter currently set&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">filter_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for exact matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for prefix matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-prefix&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for substring matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-search&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_special</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a special query&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">):</span>
        <span class="s">&quot;Filter by a full data search (exact meaning depends on object type)&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="p">):</span>
        <span class="s">&quot;Fetch objects for the one-based page number&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">page_number</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="p">,</span>
                <span class="n">o</span>
            <span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">iter_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Iterate over all matched objects&quot;</span>
        <span class="c"># make a copy of ourselves so parameters can&#39;t be changed behind</span>
        <span class="c"># our back</span>
        <span class="kn">import</span> <span class="nn">copy</span>
        <span class="n">qry</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c"># iterate over every object on every page</span>
        <span class="k">for</span> <span class="n">page_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">qry</span><span class="o">.</span><span class="n">total_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">page</span> <span class="o">=</span> <span class="n">qry</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">obj</span>


<span class="k">class</span> <span class="nc">SimpleClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a collection of remote objects on the Billogram service</span>

<span class="sd">    Provides methods to search, fetch and create instances of the object type.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_object_class</span> <span class="o">=</span> <span class="n">SimpleObject</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">,</span> <span class="n">object_id_field</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url_name</span> <span class="o">=</span> <span class="n">url_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_id_field</span> <span class="o">=</span> <span class="n">object_id_field</span>

    <span class="k">def</span> <span class="nf">_url_of</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">obj_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">obj_id</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">obj_id</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_object_id_field</span><span class="p">]</span>
        <span class="k">return</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">url_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">api</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Create a query for objects of this type&quot;</span>
        <span class="k">return</span> <span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="s">&quot;Fetch a single object by its identification&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="n">obj_id</span><span class="o">=</span><span class="n">object_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Create a new object with the given data&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>


<span class="k">class</span> <span class="nc">BillogramObject</span><span class="p">(</span><span class="n">SimpleObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a billogram object on the Billogram service</span>

<span class="sd">    In addition to the basic methods of the SimpleObject remote object class,</span>
<span class="sd">    also provides specialized methods to perform events on billogram objects.</span>

<span class="sd">    See the online documentation for the actual structure of billogram objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">perform_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">,</span> <span class="n">evt_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Perform a generic state transition event on billogram object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/command/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">evt_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">create_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a manual payment on billogram</span>

<span class="sd">        Only possible in &quot;Unpaid&quot; state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;payment&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">credit_amount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit a specific amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
            <span class="s">&#39;credit&#39;</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;amount&#39;</span><span class="p">,</span>
                <span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">credit_full</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit the full, original amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;full&#39;</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">credit_remaining</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit the remaining unpaid amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;remaining&#39;</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a message to the recipient of the billogram</span>

<span class="sd">        Possible from all states, except on deleted billograms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;message&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="n">message</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">send_to_collector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the collection agency</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;collect&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send_to_factoring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the factoring agency to be sold</span>

<span class="sd">        Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;sell&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send_reminder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a reminder to the recipient</span>

<span class="sd">        &#39;method&#39; is the type of reminder to be sent:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;</span>
<span class="sd">         - &quot;Email+Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;send&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">resend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient again</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_invoice_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch the PDF content for a specific invoice on this billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">letter_id</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;letter_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">letter_id</span>
        <span class="k">if</span> <span class="n">invoice_no</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;invoice_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">invoice_no</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">params</span><span class="p">,</span>
            <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">get_attachment_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch the PDF attachment for the billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/attachment.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">attach_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Attach a PDF to the billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>
        <span class="kn">import</span> <span class="nn">os</span>

        <span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
            <span class="s">&#39;attach&#39;</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="s">&#39;content&#39;</span><span class="p">:</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">content</span><span class="p">),</span>
                <span class="s">&#39;filename&#39;</span><span class="p">:</span> <span class="n">filename</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">writeoff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Write-off remaining fees from a billogram.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;writeoff&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">BillogramQuery</span><span class="p">(</span><span class="n">Query</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a query for billogram objects</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">filter_state_any</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">states</span><span class="p">):</span>
        <span class="s">&quot;Find billogram objects with any state of the listed ones&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">states</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">frozenset</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">states</span> <span class="o">=</span> <span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_field</span><span class="p">(</span><span class="s">&#39;state&#39;</span><span class="p">,</span> <span class="s">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">states</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">BillogramClass</span><span class="p">(</span><span class="n">SimpleClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents the collection of billogram objects on the Billogram service</span>

<span class="sd">    In addition to the methods of the SimpleClass collection wrapper, also</span>
<span class="sd">    provides specialized creation methods to create billogram objects and state</span>
<span class="sd">    transition them immediately.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_object_class</span> <span class="o">=</span> <span class="n">BillogramObject</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BillogramClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">api</span><span class="p">,</span> <span class="s">&#39;billogram&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Create a query for billogram objects&quot;</span>
        <span class="k">return</span> <span class="n">BillogramQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_and_send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create the billogram and send it to the recipient in one operation</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;</span>
<span class="sd">         - &quot;Email+Letter&quot;.</span>

<span class="sd">        New billogram will be in state &quot;Unpaid&quot; or &quot;Ended&quot; (if the total sum</span>
<span class="sd">        would be zero).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
        <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">billogram</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">billogram</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">return</span> <span class="n">billogram</span>

    <span class="k">def</span> <span class="nf">create_and_sell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create the billogram and send it to factoring in one operation</span>

<span class="sd">        New billogram will be in state &quot;Factoring&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;_event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;sell&#39;</span>
        <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">billogram</span>


<span class="c"># make an exportable namespace-class with all the exceptions</span>
<span class="n">BillogramExceptions</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span>
    <span class="nb">str</span><span class="p">(</span><span class="s">&#39;BillogramExceptions&#39;</span><span class="p">),</span>
    <span class="p">(),</span>
    <span class="p">{</span>
        <span class="n">nm</span><span class="p">:</span> <span class="n">cl</span> <span class="k">for</span>
        <span class="n">nm</span><span class="p">,</span> <span class="n">cl</span> <span class="ow">in</span>
        <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">cl</span><span class="p">,</span> <span class="n">BillogramAPIError</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c"># just the BillogramAPI class and the exceptions are really part</span>
<span class="c"># of the call API of this module</span>
<span class="c">#__all__ = [&#39;BillogramAPI&#39;, &#39;BillogramExceptions&#39;]</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="billogram_api.API_URL_BASE" class="name">var <span class="ident">API_URL_BASE</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="billogram_api.USER_AGENT" class="name">var <span class="ident">USER_AGENT</span></p>
      
  
  <div class="source_cont">
</div>

      </div>


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="billogram_api.BillogramAPI" class="name">class <span class="ident">BillogramAPI</span></p>
      
  
    <div class="desc"><p>Pseudo-connection to the Billogram v2 API</p>
<p>Objects of this class provide a call interface to the Billogram
v2 HTTP API.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">BillogramAPI</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Pseudo-connection to the Billogram v2 API</span>

<span class="sd">    Objects of this class provide a call interface to the Billogram</span>
<span class="sd">    v2 HTTP API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">,</span> <span class="n">user_agent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_base</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a Billogram API connection object</span>

<span class="sd">        Pass the API authentication in the auth_user and auth_key parameters.</span>
<span class="sd">        API accounts can only be created from the Billogram web interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span> <span class="o">=</span> <span class="n">user_agent</span> <span class="ow">or</span> <span class="n">USER_AGENT</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span> <span class="o">=</span> <span class="n">api_base</span> <span class="ow">or</span> <span class="n">API_URL_BASE</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the items database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;item&#39;</span><span class="p">,</span> <span class="s">&#39;item_no&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_items</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">customers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the customer database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;customer&#39;</span><span class="p">,</span> <span class="s">&#39;customer_no&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">billogram</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to billogram objects and attached invoices&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="o">=</span> <span class="n">BillogramClass</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">settings</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to settings for the Billogram account&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="n">SingletonObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;settings&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">logotype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the logotype for the Billogram account&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="o">=</span> <span class="n">SingletonObject</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;logotype&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">reports</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Provide access to the reports database&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="o">=</span> <span class="n">SimpleClass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;report&#39;</span><span class="p">,</span> <span class="s">&#39;filename&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_check_api_response</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">resp</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">resp</span><span class="o">.</span><span class="n">ok</span> <span class="ow">or</span> <span class="n">expect_content_type</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># if the request failed the response should always be json</span>
            <span class="n">expect_content_type</span> <span class="o">=</span> <span class="s">&#39;application/json&#39;</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">600</span><span class="p">):</span>
            <span class="c"># internal error</span>
            <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">expect_content_type</span> <span class="ow">and</span> \
                    <span class="n">expect_content_type</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Billogram API reported a server error: {} - {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">),</span>
                        <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;message&#39;</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>

            <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                <span class="s">&#39;Billogram API reported a server error&#39;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">expect_content_type</span><span class="p">:</span>
            <span class="c"># the service returned a different content-type from the expected,</span>
            <span class="c"># probably some malfunction on the remote end</span>
            <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">&#39;content-type&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;NOT_AVAILABLE_YET&#39;</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">ObjectNotAvailableYetError</span><span class="p">(</span>
                        <span class="s">&#39;Object not available yet&#39;</span>
                    <span class="p">)</span>
            <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                <span class="s">&#39;Billogram API returned unexpected content type&#39;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">expect_content_type</span> <span class="o">==</span> <span class="s">&#39;application/json&#39;</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">status</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Response data missing status field&#39;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="s">&#39;data&#39;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ServiceMalfunctioningError</span><span class="p">(</span>
                    <span class="s">&#39;Response data missing data field&#39;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c"># per above, non-json responses are always ok, so just return them</span>
            <span class="k">return</span> <span class="n">resp</span><span class="o">.</span><span class="n">content</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">403</span><span class="p">:</span>
            <span class="c"># bad auth</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;PERMISSION_DENIED&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">NotAuthorizedError</span><span class="p">(</span>
                    <span class="s">&#39;Not allowed to perform the requested operation&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;INVALID_AUTH&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">InvalidAuthenticationError</span><span class="p">(</span>
                    <span class="s">&#39;The user/key combination is wrong, check the credentials </span><span class="se">\</span>
<span class="s">                     used and possibly generate a new set&#39;</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;MISSING_AUTH&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">RequestFormError</span><span class="p">(</span><span class="s">&#39;No authentication data was given&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">PermissionDeniedError</span><span class="p">(</span>
                    <span class="s">&#39;Permission denied, status={}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="n">status</span>
                    <span class="p">)</span>
                <span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
            <span class="c"># not found</span>
            <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;status&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;NOT_AVAILABLE_YET&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ObjectNotFoundError</span><span class="p">(</span><span class="s">&#39;Object not available yet&#39;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">ObjectNotFoundError</span><span class="p">(</span><span class="s">&#39;Object not found&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">resp</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">405</span><span class="p">:</span>
            <span class="c"># bad http method</span>
            <span class="k">raise</span> <span class="n">RequestFormError</span><span class="p">(</span><span class="s">&#39;Invalid HTTP method&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s">&#39;OK&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">data</span>

        <span class="n">errordata</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">,</span> <span class="p">{})</span>

        <span class="k">raise</span> <span class="p">{</span>
            <span class="s">&#39;MISSING_QUERY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">RequestFormError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_QUERY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">RequestFormError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_PARAMETER&#39;</span><span class="p">:</span> <span class="n">InvalidFieldValueError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_PARAMETER_COMBINATION&#39;</span><span class="p">:</span> <span class="n">InvalidFieldCombinationError</span><span class="p">,</span>
            <span class="s">&#39;READ_ONLY_PARAMETER&#39;</span><span class="p">:</span> <span class="n">ReadOnlyFieldError</span><span class="p">,</span>
            <span class="s">&#39;UNKNOWN_PARAMETER&#39;</span><span class="p">:</span> <span class="n">UnknownFieldError</span><span class="p">,</span>
            <span class="s">&#39;INVALID_OBJECT_STATE&#39;</span><span class="p">:</span> <span class="n">InvalidObjectStateError</span><span class="p">,</span>
        <span class="p">}</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">RequestDataError</span><span class="p">)(</span><span class="o">**</span><span class="n">errordata</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP GET request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
            <span class="p">),</span>
            <span class="n">expect_content_type</span><span class="o">=</span><span class="n">expect_content_type</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP POST request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                    <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                    <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP PUT request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                    <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                    <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
                <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="s">&quot;Perform a HTTP DELETE request to the Billogram API&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
            <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
                <span class="n">url</span><span class="p">,</span>
                <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
                <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramAPI">BillogramAPI</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramAPI.billogram" class="name">var <span class="ident">billogram</span></p>
            

            
  
    <div class="desc"><p>Provide access to billogram objects and attached invoices</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPI.customers" class="name">var <span class="ident">customers</span></p>
            

            
  
    <div class="desc"><p>Provide access to the customer database</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPI.items" class="name">var <span class="ident">items</span></p>
            

            
  
    <div class="desc"><p>Provide access to the items database</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPI.logotype" class="name">var <span class="ident">logotype</span></p>
            

            
  
    <div class="desc"><p>Provide access to the logotype for the Billogram account</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPI.reports" class="name">var <span class="ident">reports</span></p>
            

            
  
    <div class="desc"><p>Provide access to the reports database</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPI.settings" class="name">var <span class="ident">settings</span></p>
            

            
  
    <div class="desc"><p>Provide access to settings for the Billogram account</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPI.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, auth_user, auth_key, user_agent=None, api_base=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a Billogram API connection object</p>
<p>Pass the API authentication in the auth_user and auth_key parameters.
API accounts can only be created from the Billogram web interface.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">,</span> <span class="n">user_agent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_base</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a Billogram API connection object</span>
<span class="sd">    Pass the API authentication in the auth_user and auth_key parameters.</span>
<span class="sd">    API accounts can only be created from the Billogram web interface.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">auth_user</span><span class="p">,</span> <span class="n">auth_key</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_items</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_customers</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_billogram</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_logotype</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_reports</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span> <span class="o">=</span> <span class="n">user_agent</span> <span class="ow">or</span> <span class="n">USER_AGENT</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span> <span class="o">=</span> <span class="n">api_base</span> <span class="ow">or</span> <span class="n">API_URL_BASE</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPI.delete">
    <p>def <span class="ident">delete</span>(</p><p>self, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Perform a HTTP DELETE request to the Billogram API</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI.delete', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI.delete" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
    <span class="s">&quot;Perform a HTTP DELETE request to the Billogram API&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPI.get">
    <p>def <span class="ident">get</span>(</p><p>self, obj, params=None, expect_content_type=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Perform a HTTP GET request to the Billogram API</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI.get', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI.get" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="s">&quot;Perform a HTTP GET request to the Billogram API&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
            <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span><span class="p">}</span>
        <span class="p">),</span>
        <span class="n">expect_content_type</span><span class="o">=</span><span class="n">expect_content_type</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPI.post">
    <p>def <span class="ident">post</span>(</p><p>self, obj, data)</p>
    </div>
    

    
  
    <div class="desc"><p>Perform a HTTP POST request to the Billogram API</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI.post', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI.post" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Perform a HTTP POST request to the Billogram API&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPI.put">
    <p>def <span class="ident">put</span>(</p><p>self, obj, data)</p>
    </div>
    

    
  
    <div class="desc"><p>Perform a HTTP PUT request to the Billogram API</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPI.put', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPI.put" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Perform a HTTP PUT request to the Billogram API&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_api_base</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_api_response</span><span class="p">(</span>
        <span class="n">requests</span><span class="o">.</span><span class="n">put</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">auth</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_auth</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span>
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
                <span class="s">&#39;content-type&#39;</span><span class="p">:</span> <span class="s">&#39;application/json&#39;</span><span class="p">,</span>
                <span class="s">&#39;user-agent&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_user_agent</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.BillogramAPIError" class="name">class <span class="ident">BillogramAPIError</span></p>
      
  
    <div class="desc"><p>Base class for errors from the Billogram API</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPIError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPIError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">BillogramAPIError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="s">&quot;Base class for errors from the Billogram API&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramAPIError.args" class="name">var <span class="ident">args</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPIError.message" class="name">var <span class="ident">message</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramAPIError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPIError.field" class="name">var <span class="ident">field</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramAPIError.field_path" class="name">var <span class="ident">field_path</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramAPIError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramAPIError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramAPIError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.BillogramClass" class="name">class <span class="ident">BillogramClass</span></p>
      
  
    <div class="desc"><p>Represents the collection of billogram objects on the Billogram service</p>
<p>In addition to the methods of the SimpleClass collection wrapper, also
provides specialized creation methods to create billogram objects and state
transition them immediately.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">BillogramClass</span><span class="p">(</span><span class="n">SimpleClass</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents the collection of billogram objects on the Billogram service</span>

<span class="sd">    In addition to the methods of the SimpleClass collection wrapper, also</span>
<span class="sd">    provides specialized creation methods to create billogram objects and state</span>
<span class="sd">    transition them immediately.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_object_class</span> <span class="o">=</span> <span class="n">BillogramObject</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BillogramClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">api</span><span class="p">,</span> <span class="s">&#39;billogram&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Create a query for billogram objects&quot;</span>
        <span class="k">return</span> <span class="n">BillogramQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_and_send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create the billogram and send it to the recipient in one operation</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;</span>
<span class="sd">         - &quot;Email+Letter&quot;.</span>

<span class="sd">        New billogram will be in state &quot;Unpaid&quot; or &quot;Ended&quot; (if the total sum</span>
<span class="sd">        would be zero).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
        <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">billogram</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">billogram</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">return</span> <span class="n">billogram</span>

    <span class="k">def</span> <span class="nf">create_and_sell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create the billogram and send it to factoring in one operation</span>

<span class="sd">        New billogram will be in state &quot;Factoring&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">data</span><span class="p">[</span><span class="s">&#39;_event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;sell&#39;</span>
        <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">billogram</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramClass">BillogramClass</a></li>
          <li><a href="#billogram_api.SimpleClass">SimpleClass</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramClass.api" class="name">var <span class="ident">api</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.api">api</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramClass.url_name" class="name">var <span class="ident">url_name</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.url_name">url_name</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, api)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">api</span><span class="p">,</span> <span class="s">&#39;billogram&#39;</span><span class="p">,</span> <span class="s">&#39;id&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.create">
    <p>def <span class="ident">create</span>(</p><p>self, data)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.create">create</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Create a new object with the given data</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.create', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.create" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Create a new object with the given data&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.create_and_sell">
    <p>def <span class="ident">create_and_sell</span>(</p><p>self, data)</p>
    </div>
    

    
  
    <div class="desc"><p>Create the billogram and send it to factoring in one operation</p>
<p>New billogram will be in state "Factoring".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.create_and_sell', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.create_and_sell" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">create_and_sell</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create the billogram and send it to factoring in one operation</span>
<span class="sd">    New billogram will be in state &quot;Factoring&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span><span class="p">[</span><span class="s">&#39;_event&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;sell&#39;</span>
    <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">billogram</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.create_and_send">
    <p>def <span class="ident">create_and_send</span>(</p><p>self, data, method)</p>
    </div>
    

    
  
    <div class="desc"><p>Create the billogram and send it to the recipient in one operation</p>
<p>'method' is the medium to send the billogram by:
 - "Email"
 - "Letter"
 - "Email+Letter".</p>
<p>New billogram will be in state "Unpaid" or "Ended" (if the total sum
would be zero).</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.create_and_send', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.create_and_send" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">create_and_send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create the billogram and send it to the recipient in one operation</span>
<span class="sd">    &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">     - &quot;Email&quot;</span>
<span class="sd">     - &quot;Letter&quot;</span>
<span class="sd">     - &quot;Email+Letter&quot;.</span>
<span class="sd">    New billogram will be in state &quot;Unpaid&quot; or &quot;Ended&quot; (if the total sum</span>
<span class="sd">    would be zero).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
    <span class="n">billogram</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">billogram</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">billogram</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">e</span>
    <span class="k">return</span> <span class="n">billogram</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.get">
    <p>def <span class="ident">get</span>(</p><p>self, object_id)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.get">get</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Fetch a single object by its identification</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.get', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.get" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
    <span class="s">&quot;Fetch a single object by its identification&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="n">obj_id</span><span class="o">=</span><span class="n">object_id</span><span class="p">))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramClass.query">
    <p>def <span class="ident">query</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleClass">SimpleClass</a></code>.<code><a href="#billogram_api.SimpleClass.query">query</a></code>
    </p>

    
  
    <div class="desc"><p>Create a query for billogram objects</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramClass.query', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramClass.query" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Create a query for billogram objects&quot;</span>
    <span class="k">return</span> <span class="n">BillogramQuery</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.BillogramExceptions" class="name">class <span class="ident">BillogramExceptions</span></p>
      
  
  <div class="source_cont">
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramExceptions">BillogramExceptions</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.BillogramAPIError" class="name">var <span class="ident">BillogramAPIError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.InvalidAuthenticationError" class="name">var <span class="ident">InvalidAuthenticationError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.InvalidFieldCombinationError" class="name">var <span class="ident">InvalidFieldCombinationError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.InvalidFieldValueError" class="name">var <span class="ident">InvalidFieldValueError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.InvalidObjectStateError" class="name">var <span class="ident">InvalidObjectStateError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.MissingFieldError" class="name">var <span class="ident">MissingFieldError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.NotAuthorizedError" class="name">var <span class="ident">NotAuthorizedError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.ObjectNotAvailableYetError" class="name">var <span class="ident">ObjectNotAvailableYetError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.ObjectNotFoundError" class="name">var <span class="ident">ObjectNotFoundError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.PermissionDeniedError" class="name">var <span class="ident">PermissionDeniedError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.ReadOnlyFieldError" class="name">var <span class="ident">ReadOnlyFieldError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.RequestDataError" class="name">var <span class="ident">RequestDataError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.RequestFormError" class="name">var <span class="ident">RequestFormError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.ServiceMalfunctioningError" class="name">var <span class="ident">ServiceMalfunctioningError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramExceptions.UnknownFieldError" class="name">var <span class="ident">UnknownFieldError</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.BillogramObject" class="name">class <span class="ident">BillogramObject</span></p>
      
  
    <div class="desc"><p>Represents a billogram object on the Billogram service</p>
<p>In addition to the basic methods of the SimpleObject remote object class,
also provides specialized methods to perform events on billogram objects.</p>
<p>See the online documentation for the actual structure of billogram objects.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">BillogramObject</span><span class="p">(</span><span class="n">SimpleObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a billogram object on the Billogram service</span>

<span class="sd">    In addition to the basic methods of the SimpleObject remote object class,</span>
<span class="sd">    also provides specialized methods to perform events on billogram objects.</span>

<span class="sd">    See the online documentation for the actual structure of billogram objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="k">def</span> <span class="nf">perform_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">,</span> <span class="n">evt_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Perform a generic state transition event on billogram object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/command/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">)</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">evt_data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">create_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Create a manual payment on billogram</span>

<span class="sd">        Only possible in &quot;Unpaid&quot; state.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;payment&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">credit_amount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit a specific amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
            <span class="s">&#39;credit&#39;</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;amount&#39;</span><span class="p">,</span>
                <span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">credit_full</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit the full, original amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;full&#39;</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">credit_remaining</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Credit the remaining unpaid amount of the billogram</span>

<span class="sd">        Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;remaining&#39;</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a message to the recipient of the billogram</span>

<span class="sd">        Possible from all states, except on deleted billograms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;message&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="n">message</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">send_to_collector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the collection agency</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;collect&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send_to_factoring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the factoring agency to be sold</span>

<span class="sd">        Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;sell&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send_reminder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send a reminder to the recipient</span>

<span class="sd">        &#39;method&#39; is the type of reminder to be sent:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;</span>
<span class="sd">         - &quot;Email+Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;send&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">resend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient again</span>

<span class="sd">        &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">         - &quot;Email&quot;</span>
<span class="sd">         - &quot;Letter&quot;.</span>

<span class="sd">        Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_invoice_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch the PDF content for a specific invoice on this billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>

        <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">letter_id</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;letter_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">letter_id</span>
        <span class="k">if</span> <span class="n">invoice_no</span><span class="p">:</span>
            <span class="n">params</span><span class="p">[</span><span class="s">&#39;invoice_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">invoice_no</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">url</span><span class="p">,</span>
            <span class="n">params</span><span class="p">,</span>
            <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">get_attachment_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Fetch the PDF attachment for the billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>

        <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/attachment.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>

        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">attach_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Attach a PDF to the billogram</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">import</span> <span class="nn">base64</span>
        <span class="kn">import</span> <span class="nn">os</span>

        <span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
            <span class="s">&#39;attach&#39;</span><span class="p">,</span>
            <span class="p">{</span>
                <span class="s">&#39;content&#39;</span><span class="p">:</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">content</span><span class="p">),</span>
                <span class="s">&#39;filename&#39;</span><span class="p">:</span> <span class="n">filename</span>
            <span class="p">}</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">writeoff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Write-off remaining fees from a billogram.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;writeoff&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramObject">BillogramObject</a></li>
          <li><a href="#billogram_api.SimpleObject">SimpleObject</a></li>
          <li><a href="#billogram_api.SingletonObject">SingletonObject</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramObject.data" class="name">var <span class="ident">data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleObject">SimpleObject</a></code>.<code><a href="#billogram_api.SimpleObject.data">data</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Access the data of the actual object</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, api, object_class, data)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleObject">SimpleObject</a></code>.<code><a href="#billogram_api.SimpleObject.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">object_class</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">object_class</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.attach_pdf">
    <p>def <span class="ident">attach_pdf</span>(</p><p>self, filepath)</p>
    </div>
    

    
  
    <div class="desc"><p>Attach a PDF to the billogram</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.attach_pdf', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.attach_pdf" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">attach_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Attach a PDF to the billogram</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">base64</span>
    <span class="kn">import</span> <span class="nn">os</span>
    <span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">filepath</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
        <span class="s">&#39;attach&#39;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="s">&#39;content&#39;</span><span class="p">:</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">content</span><span class="p">),</span>
            <span class="s">&#39;filename&#39;</span><span class="p">:</span> <span class="n">filename</span>
        <span class="p">}</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.create_payment">
    <p>def <span class="ident">create_payment</span>(</p><p>self, amount)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a manual payment on billogram</p>
<p>Only possible in "Unpaid" state.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.create_payment', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.create_payment" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">create_payment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a manual payment on billogram</span>
<span class="sd">    Only possible in &quot;Unpaid&quot; state.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;payment&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.credit_amount">
    <p>def <span class="ident">credit_amount</span>(</p><p>self, amount)</p>
    </div>
    

    
  
    <div class="desc"><p>Credit a specific amount of the billogram</p>
<p>Only possible in states "Unpaid", "Sold" and "Ended".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.credit_amount', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.credit_amount" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">credit_amount</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Credit a specific amount of the billogram</span>
<span class="sd">    Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">amount</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span>
        <span class="s">&#39;credit&#39;</span><span class="p">,</span>
        <span class="p">{</span>
            <span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;amount&#39;</span><span class="p">,</span>
            <span class="s">&#39;amount&#39;</span><span class="p">:</span> <span class="n">amount</span>
        <span class="p">}</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.credit_full">
    <p>def <span class="ident">credit_full</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Credit the full, original amount of the billogram</p>
<p>Only possible in states "Unpaid", "Sold" and "Ended".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.credit_full', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.credit_full" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">credit_full</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Credit the full, original amount of the billogram</span>
<span class="sd">    Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;full&#39;</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.credit_remaining">
    <p>def <span class="ident">credit_remaining</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Credit the remaining unpaid amount of the billogram</p>
<p>Only possible in states "Unpaid", "Sold" and "Ended".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.credit_remaining', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.credit_remaining" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">credit_remaining</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Credit the remaining unpaid amount of the billogram</span>
<span class="sd">    Only possible in states &quot;Unpaid&quot;, &quot;Sold&quot; and &quot;Ended&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;credit&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;mode&#39;</span><span class="p">:</span> <span class="s">&#39;remaining&#39;</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.delete">
    <p>def <span class="ident">delete</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleObject">SimpleObject</a></code>.<code><a href="#billogram_api.SimpleObject.delete">delete</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Remove the remote object from the database</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.delete', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.delete" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Remove the remote object from the database&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.get_attachment_pdf">
    <p>def <span class="ident">get_attachment_pdf</span>(</p><p>self, letter_id=None, invoice_no=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Fetch the PDF attachment for the billogram</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.get_attachment_pdf', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.get_attachment_pdf" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get_attachment_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetch the PDF attachment for the billogram</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">base64</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/attachment.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.get_invoice_pdf">
    <p>def <span class="ident">get_invoice_pdf</span>(</p><p>self, letter_id=None, invoice_no=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Fetch the PDF content for a specific invoice on this billogram</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.get_invoice_pdf', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.get_invoice_pdf" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get_invoice_pdf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter_id</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">invoice_no</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fetch the PDF content for a specific invoice on this billogram</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">base64</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}.pdf&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">if</span> <span class="n">letter_id</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s">&#39;letter_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">letter_id</span>
    <span class="k">if</span> <span class="n">invoice_no</span><span class="p">:</span>
        <span class="n">params</span><span class="p">[</span><span class="s">&#39;invoice_no&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">invoice_no</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="n">url</span><span class="p">,</span>
        <span class="n">params</span><span class="p">,</span>
        <span class="n">expect_content_type</span><span class="o">=</span><span class="s">&#39;application/json&#39;</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">][</span><span class="s">&#39;content&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.perform_event">
    <p>def <span class="ident">perform_event</span>(</p><p>self, evt_name, evt_data=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Perform a generic state transition event on billogram object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.perform_event', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.perform_event" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">perform_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">,</span> <span class="n">evt_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Perform a generic state transition event on billogram object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">&#39;{}/command/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">evt_name</span><span class="p">)</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">evt_data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleObject">SimpleObject</a></code>.<code><a href="#billogram_api.SimpleObject.refresh">refresh</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Refresh the local copy of the object data from remote</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.refresh', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.refresh" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Refresh the local copy of the object data from remote&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.resend">
    <p>def <span class="ident">resend</span>(</p><p>self, method=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Send the billogram to the recipient again</p>
<p>'method' is the medium to send the billogram by:
 - "Email"
 - "Letter".</p>
<p>Only possible from state "Unpaid".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.resend', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.resend" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">resend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient again</span>
<span class="sd">    &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">     - &quot;Email&quot;</span>
<span class="sd">     - &quot;Letter&quot;.</span>
<span class="sd">    Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;resend&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.send">
    <p>def <span class="ident">send</span>(</p><p>self, method)</p>
    </div>
    

    
  
    <div class="desc"><p>Send the billogram to the recipient</p>
<p>'method' is the medium to send the billogram by:
 - "Email"
 - "Letter"
 - "Email+Letter".</p>
<p>Only possible from state "Unattested".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.send', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.send" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send the billogram to the recipient</span>
<span class="sd">    &#39;method&#39; is the medium to send the billogram by:</span>
<span class="sd">     - &quot;Email&quot;</span>
<span class="sd">     - &quot;Letter&quot;</span>
<span class="sd">     - &quot;Email+Letter&quot;.</span>
<span class="sd">    Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">,</span> <span class="s">&#39;Email+Letter&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;send&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.send_message">
    <p>def <span class="ident">send_message</span>(</p><p>self, message)</p>
    </div>
    

    
  
    <div class="desc"><p>Send a message to the recipient of the billogram</p>
<p>Possible from all states, except on deleted billograms.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.send_message', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.send_message" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">send_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send a message to the recipient of the billogram</span>
<span class="sd">    Possible from all states, except on deleted billograms.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;message&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;message&#39;</span><span class="p">:</span> <span class="n">message</span><span class="p">})</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.send_reminder">
    <p>def <span class="ident">send_reminder</span>(</p><p>self, method=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Send a reminder to the recipient</p>
<p>'method' is the type of reminder to be sent:
 - "Email"
 - "Letter".</p>
<p>Only possible from state "Unpaid".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.send_reminder', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.send_reminder" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">send_reminder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send a reminder to the recipient</span>
<span class="sd">    &#39;method&#39; is the type of reminder to be sent:</span>
<span class="sd">     - &quot;Email&quot;</span>
<span class="sd">     - &quot;Letter&quot;.</span>
<span class="sd">    Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;Email&#39;</span><span class="p">,</span> <span class="s">&#39;Letter&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s">&#39;method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">})</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;remind&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.send_to_collector">
    <p>def <span class="ident">send_to_collector</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Send the billogram to the collection agency</p>
<p>Only possible from state "Unpaid".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.send_to_collector', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.send_to_collector" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">send_to_collector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send the billogram to the collection agency</span>
<span class="sd">    Only possible from state &quot;Unpaid&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;collect&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.send_to_factoring">
    <p>def <span class="ident">send_to_factoring</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Send the billogram to the factoring agency to be sold</p>
<p>Only possible from state "Unattested".</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.send_to_factoring', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.send_to_factoring" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">send_to_factoring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send the billogram to the factoring agency to be sold</span>
<span class="sd">    Only possible from state &quot;Unattested&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;sell&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.update">
    <p>def <span class="ident">update</span>(</p><p>self, data)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SimpleObject">SimpleObject</a></code>.<code><a href="#billogram_api.SimpleObject.update">update</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Modify the remote object with a partial or complete structure</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.update', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.update" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Modify the remote object with a partial or complete structure&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramObject.writeoff">
    <p>def <span class="ident">writeoff</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Write-off remaining fees from a billogram.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramObject.writeoff', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramObject.writeoff" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">writeoff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Write-off remaining fees from a billogram.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">perform_event</span><span class="p">(</span><span class="s">&#39;writeoff&#39;</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.BillogramQuery" class="name">class <span class="ident">BillogramQuery</span></p>
      
  
    <div class="desc"><p>Represents a query for billogram objects</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">BillogramQuery</span><span class="p">(</span><span class="n">Query</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a query for billogram objects</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">filter_state_any</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">states</span><span class="p">):</span>
        <span class="s">&quot;Find billogram objects with any state of the listed ones&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">states</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">or</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">frozenset</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">states</span> <span class="o">=</span> <span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_field</span><span class="p">(</span><span class="s">&#39;state&#39;</span><span class="p">,</span> <span class="s">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">states</span><span class="p">))</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.BillogramQuery">BillogramQuery</a></li>
          <li><a href="#billogram_api.Query">Query</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.BillogramQuery.count" class="name">var <span class="ident">count</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.count">count</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Total amount of objects matched by the current query, reading this
may cause a remote request</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramQuery.filter" class="name">var <span class="ident">filter</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.filter">filter</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Filter to apply to query</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramQuery.order" class="name">var <span class="ident">order</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.order">order</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramQuery.page_size" class="name">var <span class="ident">page_size</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.page_size">page_size</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Number of objects to return per page</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.BillogramQuery.total_pages" class="name">var <span class="ident">total_pages</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.total_pages">total_pages</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Total number of pages required for all objects based on current
pagesize, reading this may cause a remote request</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, type_class)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_class</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span> <span class="o">=</span> <span class="n">type_class</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.filter_field">
    <p>def <span class="ident">filter_field</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.filter_field">filter_field</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Filter on a basic field, look for exact matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.filter_field', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.filter_field" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for exact matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.filter_prefix">
    <p>def <span class="ident">filter_prefix</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.filter_prefix">filter_prefix</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Filter on a basic field, look for prefix matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.filter_prefix', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.filter_prefix" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for prefix matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-prefix&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.filter_search">
    <p>def <span class="ident">filter_search</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.filter_search">filter_search</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Filter on a basic field, look for substring matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.filter_search', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.filter_search" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for substring matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-search&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.filter_special">
    <p>def <span class="ident">filter_special</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.filter_special">filter_special</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Filter on a special query</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.filter_special', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.filter_special" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_special</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a special query&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.filter_state_any">
    <p>def <span class="ident">filter_state_any</span>(</p><p>self, *states)</p>
    </div>
    

    
  
    <div class="desc"><p>Find billogram objects with any state of the listed ones</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.filter_state_any', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.filter_state_any" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_state_any</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">states</span><span class="p">):</span>
    <span class="s">&quot;Find billogram objects with any state of the listed ones&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">states</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="p">(</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">or</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">set</span><span class="p">)</span> <span class="ow">or</span>
        <span class="nb">isinstance</span><span class="p">(</span><span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">frozenset</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">states</span> <span class="o">=</span> <span class="n">states</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">filter_field</span><span class="p">(</span><span class="s">&#39;state&#39;</span><span class="p">,</span> <span class="s">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">states</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.get_page">
    <p>def <span class="ident">get_page</span>(</p><p>self, page_number)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.get_page">get_page</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Fetch objects for the one-based page number</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.get_page', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.get_page" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="p">):</span>
    <span class="s">&quot;Fetch objects for the one-based page number&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">page_number</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="p">,</span>
            <span class="n">o</span>
        <span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.iter_all">
    <p>def <span class="ident">iter_all</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.iter_all">iter_all</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Iterate over all matched objects</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.iter_all', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.iter_all" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">iter_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Iterate over all matched objects&quot;</span>
    <span class="c"># make a copy of ourselves so parameters can&#39;t be changed behind</span>
    <span class="c"># our back</span>
    <span class="kn">import</span> <span class="nn">copy</span>
    <span class="n">qry</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c"># iterate over every object on every page</span>
    <span class="k">for</span> <span class="n">page_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">qry</span><span class="o">.</span><span class="n">total_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">page</span> <span class="o">=</span> <span class="n">qry</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.make_filter">
    <p>def <span class="ident">make_filter</span>(</p><p>self, filter_type=None, filter_field=None, filter_value=None)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.make_filter">make_filter</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.make_filter', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.make_filter" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">make_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">filter_field</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">None</span> <span class="ow">in</span> <span class="p">(</span><span class="n">filter_type</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;filter_type&#39;</span><span class="p">:</span> <span class="n">filter_type</span><span class="p">,</span>
            <span class="s">&#39;filter_field&#39;</span><span class="p">:</span> <span class="n">filter_field</span><span class="p">,</span>
            <span class="s">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.remove_filter">
    <p>def <span class="ident">remove_filter</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.remove_filter">remove_filter</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Remove any filter currently set</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.remove_filter', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.remove_filter" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">remove_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Remove any filter currently set&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.BillogramQuery.search">
    <p>def <span class="ident">search</span>(</p><p>self, search_terms)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.Query">Query</a></code>.<code><a href="#billogram_api.Query.search">search</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Filter by a full data search (exact meaning depends on object type)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.BillogramQuery.search', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.BillogramQuery.search" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">):</span>
    <span class="s">&quot;Filter by a full data search (exact meaning depends on object type)&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.InvalidAuthenticationError" class="name">class <span class="ident">InvalidAuthenticationError</span></p>
      
  
    <div class="desc"><p>The user/key combination could not be authenticated</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidAuthenticationError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidAuthenticationError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">InvalidAuthenticationError</span><span class="p">(</span><span class="n">PermissionDeniedError</span><span class="p">):</span>
    <span class="s">&quot;The user/key combination could not be authenticated&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.InvalidAuthenticationError">InvalidAuthenticationError</a></li>
          <li><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidAuthenticationError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidAuthenticationError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidAuthenticationError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidAuthenticationError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidAuthenticationError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.InvalidAuthenticationError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidAuthenticationError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidAuthenticationError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.InvalidFieldCombinationError" class="name">class <span class="ident">InvalidFieldCombinationError</span></p>
      
  
    <div class="desc"><p>Mutually exclusive fields were specified together</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidFieldCombinationError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidFieldCombinationError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">InvalidFieldCombinationError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;Mutually exclusive fields were specified together&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.InvalidFieldCombinationError">InvalidFieldCombinationError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidFieldCombinationError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldCombinationError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidFieldCombinationError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldCombinationError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldCombinationError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.InvalidFieldCombinationError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidFieldCombinationError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidFieldCombinationError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.InvalidFieldValueError" class="name">class <span class="ident">InvalidFieldValueError</span></p>
      
  
    <div class="desc"><p>A field was given an out-of-range value or a value of incorrect type</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidFieldValueError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidFieldValueError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">InvalidFieldValueError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;A field was given an out-of-range value or a value of incorrect type&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.InvalidFieldValueError">InvalidFieldValueError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidFieldValueError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldValueError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidFieldValueError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldValueError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidFieldValueError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.InvalidFieldValueError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidFieldValueError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidFieldValueError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.InvalidObjectStateError" class="name">class <span class="ident">InvalidObjectStateError</span></p>
      
  
    <div class="desc"><p>The request can not be performed on an object in this state</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidObjectStateError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidObjectStateError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">InvalidObjectStateError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;The request can not be performed on an object in this state&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.InvalidObjectStateError">InvalidObjectStateError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidObjectStateError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidObjectStateError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.InvalidObjectStateError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidObjectStateError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.InvalidObjectStateError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.InvalidObjectStateError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.InvalidObjectStateError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.InvalidObjectStateError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.MissingFieldError" class="name">class <span class="ident">MissingFieldError</span></p>
      
  
    <div class="desc"><p>A required field was missing from the request data</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.MissingFieldError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.MissingFieldError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">MissingFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;A required field was missing from the request data&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.MissingFieldError">MissingFieldError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.MissingFieldError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.MissingFieldError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.MissingFieldError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.MissingFieldError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.MissingFieldError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.MissingFieldError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.MissingFieldError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.MissingFieldError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.NotAuthorizedError" class="name">class <span class="ident">NotAuthorizedError</span></p>
      
  
    <div class="desc"><p>The user does not have authorization to perform the requested operation</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.NotAuthorizedError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.NotAuthorizedError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">NotAuthorizedError</span><span class="p">(</span><span class="n">PermissionDeniedError</span><span class="p">):</span>
    <span class="s">&quot;The user does not have authorization to perform the requested operation&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.NotAuthorizedError">NotAuthorizedError</a></li>
          <li><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.NotAuthorizedError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.NotAuthorizedError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.NotAuthorizedError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.NotAuthorizedError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.NotAuthorizedError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.NotAuthorizedError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></code>.<code><a href="#billogram_api.PermissionDeniedError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.NotAuthorizedError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.NotAuthorizedError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.ObjectNotAvailableYetError" class="name">class <span class="ident">ObjectNotAvailableYetError</span></p>
      
  
    <div class="desc"><p>No object by the requested ID exists, but is expected to be created soon</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ObjectNotAvailableYetError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ObjectNotAvailableYetError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">ObjectNotAvailableYetError</span><span class="p">(</span><span class="n">ObjectNotFoundError</span><span class="p">):</span>
    <span class="s">&quot;No object by the requested ID exists, but is expected to be created soon&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.ObjectNotAvailableYetError">ObjectNotAvailableYetError</a></li>
          <li><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.ObjectNotAvailableYetError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotAvailableYetError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.ObjectNotAvailableYetError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotAvailableYetError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotAvailableYetError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.ObjectNotAvailableYetError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></code>.<code><a href="#billogram_api.ObjectNotFoundError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ObjectNotAvailableYetError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ObjectNotAvailableYetError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.ObjectNotFoundError" class="name">class <span class="ident">ObjectNotFoundError</span></p>
      
  
    <div class="desc"><p>No object by the requested ID exists</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ObjectNotFoundError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ObjectNotFoundError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">ObjectNotFoundError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;No object by the requested ID exists&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.ObjectNotFoundError">ObjectNotFoundError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.ObjectNotFoundError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotFoundError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.ObjectNotFoundError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotFoundError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ObjectNotFoundError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.ObjectNotFoundError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ObjectNotFoundError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ObjectNotFoundError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.PermissionDeniedError" class="name">class <span class="ident">PermissionDeniedError</span></p>
      
  
    <div class="desc"><p>No permission to perform the requested operation</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.PermissionDeniedError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.PermissionDeniedError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">PermissionDeniedError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;No permission to perform the requested operation&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.PermissionDeniedError">PermissionDeniedError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.PermissionDeniedError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.PermissionDeniedError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.PermissionDeniedError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.PermissionDeniedError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.PermissionDeniedError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.PermissionDeniedError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.PermissionDeniedError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.PermissionDeniedError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.Query" class="name">class <span class="ident">Query</span></p>
      
  
    <div class="desc"><p>Builds queries and fetches pages of remote objects</p>
<p>Due to internal limitations in Billogram it is currently only possible to
filter on a single field or special query at a time. This may change in the
future. When it does the API will continue supporting the old filtering
mechanism, however this client library will be updated to use the new one,
and at that point we will strongly recommend all applications be updated.</p>
<p>The exact fields and special queries available for each object type varies,
see the online documentation for details.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">Query</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Builds queries and fetches pages of remote objects</span>

<span class="sd">    Due to internal limitations in Billogram it is currently only possible to</span>
<span class="sd">    filter on a single field or special query at a time. This may change in the</span>
<span class="sd">    future. When it does the API will continue supporting the old filtering</span>
<span class="sd">    mechanism, however this client library will be updated to use the new one,</span>
<span class="sd">    and at that point we will strongly recommend all applications be updated.</span>

<span class="sd">    The exact fields and special queries available for each object type varies,</span>
<span class="sd">    see the online documentation for details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_class</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span> <span class="o">=</span> <span class="n">type_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="mi">100</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">_make_query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">page_size</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">query_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;page_size&#39;</span><span class="p">:</span> <span class="n">page_size</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span><span class="p">,</span>
            <span class="s">&#39;page&#39;</span><span class="p">:</span> <span class="n">page_number</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">query_args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_queryargs</span><span class="p">())</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_url_name</span><span class="p">,</span> <span class="n">query_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;meta&#39;</span><span class="p">][</span><span class="s">&#39;total_count&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">resp</span>

    <span class="k">def</span> <span class="nf">_get_queryargs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">args</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filter</span><span class="p">)</span>
        <span class="n">args</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">args</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Total amount of objects matched by the current query, reading this</span>
<span class="sd">        may cause a remote request&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c"># make a query for a single result,</span>
            <span class="c"># this will update the cached count</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">total_pages</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Total number of pages required for all objects based on current</span>
<span class="sd">        pagesize, reading this may cause a remote request&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_size</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">page_size</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">page_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Number of objects to return per page&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span>

    <span class="nd">@page_size.setter</span>
    <span class="k">def</span> <span class="nf">page_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Filter to apply to query&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span>

    <span class="nd">@filter.setter</span>
    <span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s">&#39;filter_type&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> \
                <span class="s">&#39;filter_field&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> \
                <span class="s">&#39;filter_value&#39;</span> <span class="ow">in</span> <span class="n">value</span>
            <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="s">&#39;filter_type&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span>
                <span class="s">&#39;field&#39;</span><span class="p">,</span>
                <span class="s">&#39;field-prefix&#39;</span><span class="p">,</span>
                <span class="s">&#39;field-search&#39;</span><span class="p">,</span>
                <span class="s">&#39;special&#39;</span>
                <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_order</span>

    <span class="nd">@order.setter</span>
    <span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">assert</span> <span class="s">&#39;order_field&#39;</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> <span class="s">&#39;order_direction&#39;</span> <span class="ow">in</span> <span class="n">value</span>
            <span class="k">assert</span> <span class="n">value</span><span class="p">[</span><span class="s">&#39;order_direction&#39;</span><span class="p">]</span> <span class="ow">in</span> <span class="p">(</span><span class="s">&#39;asc&#39;</span><span class="p">,</span> <span class="s">&#39;desc&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">make_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">filter_field</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                    <span class="n">filter_value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">None</span> <span class="ow">in</span> <span class="p">(</span><span class="n">filter_type</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">&#39;filter_type&#39;</span><span class="p">:</span> <span class="n">filter_type</span><span class="p">,</span>
                <span class="s">&#39;filter_field&#39;</span><span class="p">:</span> <span class="n">filter_field</span><span class="p">,</span>
                <span class="s">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Remove any filter currently set&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">filter_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for exact matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for prefix matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-prefix&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a basic field, look for substring matches&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-search&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_special</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="s">&quot;Filter on a special query&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">):</span>
        <span class="s">&quot;Filter by a full data search (exact meaning depends on object type)&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="p">):</span>
        <span class="s">&quot;Fetch objects for the one-based page number&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">page_number</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="p">,</span>
                <span class="n">o</span>
            <span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">iter_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Iterate over all matched objects&quot;</span>
        <span class="c"># make a copy of ourselves so parameters can&#39;t be changed behind</span>
        <span class="c"># our back</span>
        <span class="kn">import</span> <span class="nn">copy</span>
        <span class="n">qry</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c"># iterate over every object on every page</span>
        <span class="k">for</span> <span class="n">page_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">qry</span><span class="o">.</span><span class="n">total_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">page</span> <span class="o">=</span> <span class="n">qry</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">:</span>
                <span class="k">yield</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.Query">Query</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.Query.count" class="name">var <span class="ident">count</span></p>
            

            
  
    <div class="desc"><p>Total amount of objects matched by the current query, reading this
may cause a remote request</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.Query.filter" class="name">var <span class="ident">filter</span></p>
            

            
  
    <div class="desc"><p>Filter to apply to query</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.Query.order" class="name">var <span class="ident">order</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.Query.page_size" class="name">var <span class="ident">page_size</span></p>
            

            
  
    <div class="desc"><p>Number of objects to return per page</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.Query.total_pages" class="name">var <span class="ident">total_pages</span></p>
            

            
  
    <div class="desc"><p>Total number of pages required for all objects based on current
pagesize, reading this may cause a remote request</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, type_class)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">type_class</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span> <span class="o">=</span> <span class="n">type_class</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_count_cached</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_page_size</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_order</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.filter_field">
    <p>def <span class="ident">filter_field</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    

    
  
    <div class="desc"><p>Filter on a basic field, look for exact matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.filter_field', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.filter_field" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_field</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for exact matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.filter_prefix">
    <p>def <span class="ident">filter_prefix</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    

    
  
    <div class="desc"><p>Filter on a basic field, look for prefix matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.filter_prefix', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.filter_prefix" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for prefix matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-prefix&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.filter_search">
    <p>def <span class="ident">filter_search</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    

    
  
    <div class="desc"><p>Filter on a basic field, look for substring matches</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.filter_search', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.filter_search" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a basic field, look for substring matches&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;field-search&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.filter_special">
    <p>def <span class="ident">filter_special</span>(</p><p>self, filter_field, filter_value)</p>
    </div>
    

    
  
    <div class="desc"><p>Filter on a special query</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.filter_special', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.filter_special" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">filter_special</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
    <span class="s">&quot;Filter on a special query&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.get_page">
    <p>def <span class="ident">get_page</span>(</p><p>self, page_number)</p>
    </div>
    

    
  
    <div class="desc"><p>Fetch objects for the one-based page number</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.get_page', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.get_page" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_number</span><span class="p">):</span>
    <span class="s">&quot;Fetch objects for the one-based page number&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_query</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">page_number</span><span class="p">))</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="o">.</span><span class="n">api</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_type_class</span><span class="p">,</span>
            <span class="n">o</span>
        <span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.iter_all">
    <p>def <span class="ident">iter_all</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Iterate over all matched objects</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.iter_all', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.iter_all" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">iter_all</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Iterate over all matched objects&quot;</span>
    <span class="c"># make a copy of ourselves so parameters can&#39;t be changed behind</span>
    <span class="c"># our back</span>
    <span class="kn">import</span> <span class="nn">copy</span>
    <span class="n">qry</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c"># iterate over every object on every page</span>
    <span class="k">for</span> <span class="n">page_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">qry</span><span class="o">.</span><span class="n">total_pages</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">page</span> <span class="o">=</span> <span class="n">qry</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">page</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">obj</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.make_filter">
    <p>def <span class="ident">make_filter</span>(</p><p>self, filter_type=None, filter_field=None, filter_value=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.make_filter', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.make_filter" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">make_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">filter_field</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">filter_value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">None</span> <span class="ow">in</span> <span class="p">(</span><span class="n">filter_type</span><span class="p">,</span> <span class="n">filter_field</span><span class="p">,</span> <span class="n">filter_value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;filter_type&#39;</span><span class="p">:</span> <span class="n">filter_type</span><span class="p">,</span>
            <span class="s">&#39;filter_field&#39;</span><span class="p">:</span> <span class="n">filter_field</span><span class="p">,</span>
            <span class="s">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span>
        <span class="p">}</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.remove_filter">
    <p>def <span class="ident">remove_filter</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Remove any filter currently set</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.remove_filter', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.remove_filter" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">remove_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Remove any filter currently set&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">filter</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.Query.search">
    <p>def <span class="ident">search</span>(</p><p>self, search_terms)</p>
    </div>
    

    
  
    <div class="desc"><p>Filter by a full data search (exact meaning depends on object type)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.Query.search', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.Query.search" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">):</span>
    <span class="s">&quot;Filter by a full data search (exact meaning depends on object type)&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_filter</span><span class="p">(</span><span class="s">&#39;special&#39;</span><span class="p">,</span> <span class="s">&#39;search&#39;</span><span class="p">,</span> <span class="n">search_terms</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.ReadOnlyFieldError" class="name">class <span class="ident">ReadOnlyFieldError</span></p>
      
  
    <div class="desc"><p>Attempt to modify a read-only field</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ReadOnlyFieldError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ReadOnlyFieldError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">ReadOnlyFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;Attempt to modify a read-only field&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.ReadOnlyFieldError">ReadOnlyFieldError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.ReadOnlyFieldError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ReadOnlyFieldError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.ReadOnlyFieldError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ReadOnlyFieldError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ReadOnlyFieldError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.ReadOnlyFieldError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ReadOnlyFieldError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ReadOnlyFieldError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.RequestDataError" class="name">class <span class="ident">RequestDataError</span></p>
      
  
    <div class="desc"><p>Errors caused by bad data passed to request</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.RequestDataError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.RequestDataError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">RequestDataError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;Errors caused by bad data passed to request&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.RequestDataError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestDataError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.RequestDataError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestDataError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestDataError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.RequestDataError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.RequestDataError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.RequestDataError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.RequestFormError" class="name">class <span class="ident">RequestFormError</span></p>
      
  
    <div class="desc"><p>Errors caused by malformed requests</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.RequestFormError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.RequestFormError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">RequestFormError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;Errors caused by malformed requests&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.RequestFormError">RequestFormError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.RequestFormError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestFormError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.RequestFormError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestFormError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.RequestFormError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.RequestFormError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.RequestFormError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.RequestFormError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.ServiceMalfunctioningError" class="name">class <span class="ident">ServiceMalfunctioningError</span></p>
      
  
    <div class="desc"><p>The Billogram API service seems to be malfunctioning</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ServiceMalfunctioningError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ServiceMalfunctioningError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">ServiceMalfunctioningError</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">):</span>
    <span class="s">&quot;The Billogram API service seems to be malfunctioning&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.ServiceMalfunctioningError">ServiceMalfunctioningError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.ServiceMalfunctioningError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ServiceMalfunctioningError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.ServiceMalfunctioningError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ServiceMalfunctioningError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.ServiceMalfunctioningError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.ServiceMalfunctioningError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></code>.<code><a href="#billogram_api.BillogramAPIError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.ServiceMalfunctioningError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.ServiceMalfunctioningError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.SimpleClass" class="name">class <span class="ident">SimpleClass</span></p>
      
  
    <div class="desc"><p>Represents a collection of remote objects on the Billogram service</p>
<p>Provides methods to search, fetch and create instances of the object type.</p>
<p>See the online documentation for the actual structure of remote objects.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleClass', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleClass" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">SimpleClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a collection of remote objects on the Billogram service</span>

<span class="sd">    Provides methods to search, fetch and create instances of the object type.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_object_class</span> <span class="o">=</span> <span class="n">SimpleObject</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">,</span> <span class="n">object_id_field</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_url_name</span> <span class="o">=</span> <span class="n">url_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_id_field</span> <span class="o">=</span> <span class="n">object_id_field</span>

    <span class="k">def</span> <span class="nf">_url_of</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">obj_id</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">obj_id</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">obj_id</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_object_id_field</span><span class="p">]</span>
        <span class="k">return</span> <span class="s">&#39;{}/{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">obj_id</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">url_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_url_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">api</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Create a query for objects of this type&quot;</span>
        <span class="k">return</span> <span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
        <span class="s">&quot;Fetch a single object by its identification&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="n">obj_id</span><span class="o">=</span><span class="n">object_id</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Create a new object with the given data&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.SimpleClass">SimpleClass</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.SimpleClass.api" class="name">var <span class="ident">api</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.SimpleClass.url_name" class="name">var <span class="ident">url_name</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleClass.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, api, url_name, object_id_field)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleClass.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleClass.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">,</span> <span class="n">object_id_field</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_url_name</span> <span class="o">=</span> <span class="n">url_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_object_id_field</span> <span class="o">=</span> <span class="n">object_id_field</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleClass.create">
    <p>def <span class="ident">create</span>(</p><p>self, data)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a new object with the given data</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleClass.create', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleClass.create" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Create a new object with the given data&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_name</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleClass.get">
    <p>def <span class="ident">get</span>(</p><p>self, object_id)</p>
    </div>
    

    
  
    <div class="desc"><p>Fetch a single object by its identification</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleClass.get', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleClass.get" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_id</span><span class="p">):</span>
    <span class="s">&quot;Fetch a single object by its identification&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="n">obj_id</span><span class="o">=</span><span class="n">object_id</span><span class="p">))</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">api</span><span class="p">,</span> <span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleClass.query">
    <p>def <span class="ident">query</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a query for objects of this type</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleClass.query', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleClass.query" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Create a query for objects of this type&quot;</span>
    <span class="k">return</span> <span class="n">Query</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.SimpleObject" class="name">class <span class="ident">SimpleObject</span></p>
      
  
    <div class="desc"><p>Represents a remote object on the Billogram service</p>
<p>Implements <strong>getattr</strong> for dict-like access to the data of the remote
object, or use the 'data' property to access the backing dict object.
The data in this dict and all sub-objects should be treated as read-only,
the only way to change the remote object is through the 'update' method.</p>
<p>If the remote data are changed, the local copy can be updated by
the 'refresh' method.</p>
<p>The 'delete' method can be used to remove the backing object.</p>
<p>See the online documentation for the actual structure of remote objects.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleObject', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleObject" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">SimpleObject</span><span class="p">(</span><span class="n">SingletonObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a remote object on the Billogram service</span>

<span class="sd">    Implements __getattr__ for dict-like access to the data of the remote</span>
<span class="sd">    object, or use the &#39;data&#39; property to access the backing dict object.</span>
<span class="sd">    The data in this dict and all sub-objects should be treated as read-only,</span>
<span class="sd">    the only way to change the remote object is through the &#39;update&#39; method.</span>

<span class="sd">    If the remote data are changed, the local copy can be updated by</span>
<span class="sd">    the &#39;refresh&#39; method.</span>

<span class="sd">    The &#39;delete&#39; method can be used to remove the backing object.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">object_class</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">object_class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span>

    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span><span class="o">.</span><span class="n">_url_of</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Remove the remote object from the database&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.SimpleObject">SimpleObject</a></li>
          <li><a href="#billogram_api.SingletonObject">SingletonObject</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.SimpleObject.data" class="name">var <span class="ident">data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SingletonObject">SingletonObject</a></code>.<code><a href="#billogram_api.SingletonObject.data">data</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Access the data of the actual object</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleObject.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, api, object_class, data)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SingletonObject">SingletonObject</a></code>.<code><a href="#billogram_api.SingletonObject.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleObject.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleObject.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">object_class</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">object_class</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">data</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleObject.delete">
    <p>def <span class="ident">delete</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Remove the remote object from the database</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleObject.delete', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleObject.delete" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Remove the remote object from the database&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleObject.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SingletonObject">SingletonObject</a></code>.<code><a href="#billogram_api.SingletonObject.refresh">refresh</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Refresh the local copy of the object data from remote</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleObject.refresh', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleObject.refresh" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Refresh the local copy of the object data from remote&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SimpleObject.update">
    <p>def <span class="ident">update</span>(</p><p>self, data)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.SingletonObject">SingletonObject</a></code>.<code><a href="#billogram_api.SingletonObject.update">update</a></code>
    </p>

    
  
    <div class="desc inherited"><p>Modify the remote object with a partial or complete structure</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SimpleObject.update', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SimpleObject.update" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Modify the remote object with a partial or complete structure&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.SingletonObject" class="name">class <span class="ident">SingletonObject</span></p>
      
  
    <div class="desc"><p>Represents a remote singleton object on Billogram</p>
<p>Implements <strong>getattr</strong> for dict-like access to the data of the remote
object, or use the 'data' property to access the backing dict object.
The data in this dict and all sub-objects should be treated as read-only,
the only way to change the remote object is through the 'update' method.</p>
<p>The represented object is initially "lazy" and will only be fetched on the
first access. If the remote data are changed, the local copy can be updated
bythe 'refresh' method.</p>
<p>See the online documentation for the actual structure of remote objects.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SingletonObject', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SingletonObject" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">SingletonObject</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a remote singleton object on Billogram</span>

<span class="sd">    Implements __getattr__ for dict-like access to the data of the remote</span>
<span class="sd">    object, or use the &#39;data&#39; property to access the backing dict object.</span>
<span class="sd">    The data in this dict and all sub-objects should be treated as read-only,</span>
<span class="sd">    the only way to change the remote object is through the &#39;update&#39; method.</span>

<span class="sd">    The represented object is initially &quot;lazy&quot; and will only be fetched on the</span>
<span class="sd">    first access. If the remote data are changed, the local copy can be updated</span>
<span class="sd">    bythe &#39;refresh&#39; method.</span>

<span class="sd">    See the online documentation for the actual structure of remote objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">url_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="n">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;_api&#39;</span><span class="p">,</span> <span class="s">&#39;_object_class&#39;</span><span class="p">,</span> <span class="s">&#39;_data&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="s">&quot;Dict-like access to object data&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">_printable_repr</span><span class="p">(</span>
            <span class="s">&quot;&lt;Billogram object &#39;{}&#39;{}&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span>
                <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="s">&#39; (lazy)&#39;</span> <span class="ow">or</span> <span class="s">&#39;&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Access the data of the actual object&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_data</span>

    <span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Refresh the local copy of the object data from remote&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="s">&quot;Modify the remote object with a partial or complete structure&quot;</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.SingletonObject">SingletonObject</a></li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.SingletonObject.data" class="name">var <span class="ident">data</span></p>
            

            
  
    <div class="desc"><p>Access the data of the actual object</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.SingletonObject.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, api, url_name)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SingletonObject.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SingletonObject.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">,</span> <span class="n">url_name</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_object_class</span> <span class="o">=</span> <span class="n">url_name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SingletonObject.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh the local copy of the object data from remote</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SingletonObject.refresh', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SingletonObject.refresh" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s">&quot;Refresh the local copy of the object data from remote&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="billogram_api.SingletonObject.update">
    <p>def <span class="ident">update</span>(</p><p>self, data)</p>
    </div>
    

    
  
    <div class="desc"><p>Modify the remote object with a partial or complete structure</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.SingletonObject.update', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.SingletonObject.update" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s">&quot;Modify the remote object with a partial or complete structure&quot;</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_url</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_data</span> <span class="o">=</span> <span class="n">resp</span><span class="p">[</span><span class="s">&#39;data&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="bp">self</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="billogram_api.UnknownFieldError" class="name">class <span class="ident">UnknownFieldError</span></p>
      
  
    <div class="desc"><p>An unknown field was passed in the request data</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.UnknownFieldError', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.UnknownFieldError" class="source">
    <div class="codehilite"><pre><span class="k">class</span> <span class="nc">UnknownFieldError</span><span class="p">(</span><span class="n">RequestDataError</span><span class="p">):</span>
    <span class="s">&quot;An unknown field was passed in the request data&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#billogram_api.UnknownFieldError">UnknownFieldError</a></li>
          <li><a href="#billogram_api.RequestDataError">RequestDataError</a></li>
          <li><a href="#billogram_api.BillogramAPIError">BillogramAPIError</a></li>
          <li>exceptions.Exception</li>
          <li>exceptions.BaseException</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="billogram_api.UnknownFieldError.args" class="name">var <span class="ident">args</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.args">args</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.UnknownFieldError.message" class="name">var <span class="ident">message</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.message">message</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Instance variables</h3>
            <div class="item">
            <p id="billogram_api.UnknownFieldError.extra_data" class="name">var <span class="ident">extra_data</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.extra_data">extra_data</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.UnknownFieldError.field" class="name">var <span class="ident">field</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field">field</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="billogram_api.UnknownFieldError.field_path" class="name">var <span class="ident">field_path</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.field_path">field_path</a></code>
    </p>

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="billogram_api.UnknownFieldError.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, message, **kwargs)</p>
    </div>
    
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#billogram_api.RequestDataError">RequestDataError</a></code>.<code><a href="#billogram_api.RequestDataError.__init__">__init__</a></code>
    </p>

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-billogram_api.UnknownFieldError.__init__', this);">Show source &equiv;</a></p>
  <div id="source-billogram_api.UnknownFieldError.__init__" class="source">
    <div class="codehilite"><pre><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">BillogramAPIError</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">field_path</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;field_path&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="n">kwargs</span>
    <span class="k">if</span> <span class="s">&#39;field&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="s">&#39;field_path&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">[</span><span class="s">&#39;field_path&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extra_data</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.1</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
